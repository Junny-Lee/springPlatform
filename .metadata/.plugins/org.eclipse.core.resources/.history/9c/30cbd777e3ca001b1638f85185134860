package com.junny.firstproject;

import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.PathVariable;

@RestController
@RequestMapping("/greeting") // class level annotation. this will be appended to every route
public class HomeController {
	// Routing using @RequestParam annotation
    @RequestMapping("/")
    public String index(@RequestParam(value="q", required=false) String searchQuery) {
    	if (searchQuery == null) {
    		return "You searched for nothing";
    	} else { 
        return "You searched for: " + searchQuery; // http://localhost:8080/greeting/?q=junny
    	}
    }
    // Routing using @PathVariable annotation 
    @RequestMapping("/m/{color}/{size}/{price}") // ex: http://localhost:8080/greeting/m/pink/big/one
    public String showLesson(@PathVariable("color") String color, @PathVariable("size") String size, @PathVariable("price") String price){
    	return "Color: " + color + ", Size: " + size + ", Price: " + price;
    }
    // Routing only using @RequestMapping
    @RequestMapping("/hello")
    public String hello(){
      return "Hello world! What route did you use to access me?";
    }
    @RequestMapping("/goodbye")
    public String world(){
      return "Goodbye world!";
    }
}

// how this is mapped:
// METHOD				PATH					MET
// GET					/greeting				HomeController.index
// GET					/greeting/hello			HomeController.hello
// GET					/greeting/goodbye		HomeController.world
